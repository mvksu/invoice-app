(this.webpackJsonpinvoice=this.webpackJsonpinvoice||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var c,s=n(0),r=n.n(s),a=n(51),i=n.n(a),l=(n(102),n(103),n(3)),d=n(18),o=n.p+"static/media/logo2.e8c9e71e.svg",b=n(9),j=n(1),u=function(){return Object(j.jsxs)("nav",{className:"bg-dark-300 dark:bg-dark-200 h-24 w-full md:w-24 md:min-h-screen sticky md:top-0 rounded-none md:rounded-t-3xl flex md:flex-col justify-between z-50 transition-all duration-300 top-0",children:[Object(j.jsxs)(d.b,{to:"/",className:"bg-blue-500 w-24 h-24 rounded-r-3xl flex items-center justify-center relative group overflow-hidden",children:[Object(j.jsx)("span",{className:"absolute rounded-tl-3xl rounded-br-3xl bottom-0 left-0 right-0 bg-blue-300 h-1/2 group-hover:h-0 transition-all duration-200"}),Object(j.jsx)("div",{className:"z-50 w-10 h-10 group-hover:h-11 group-hover:w-11 transition-all duration-300",children:Object(j.jsx)("img",{src:o,alt:"",className:"w-full h-full"})})]}),Object(j.jsxs)("div",{className:"flex flex-row md:flex-col",children:[Object(j.jsx)("div",{className:"flex items-center justify-center w-24 h-24",children:Object(j.jsx)("button",{className:"text-white w-6 h-6 transform hover:scale-110",children:Object(j.jsx)(b.f,{className:"w-full h-full",onClick:function(){return document.getElementsByTagName("html")[0].classList.toggle("dark")}})})}),Object(j.jsx)("div",{className:"flex items-center justify-center h-24 w-24 border-l md:border-t md:border-l-0 border-blue-300 border-opacity-40",children:Object(j.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAFAAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgMHCAEEBQb/2gAIAQEAAAAAsvkyGTAk1IO8pJ8tBhGYhrh6vnW47oNlcPGu9+fPSA2efrf0OPbDaBkIkqptX02jLJiM6WIkCw8o7yTl1Di5Ww9tWam+LKq8VkEPyNdCifkVIU2jYkr/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/2gAIAQIQAAAAblTvhcgesRZ83QhRDSoKpn//xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/9oACAEDEAAAAKWpbwkHVFzMcd69ioFKDJ3cP//EADUQAAEDAwIEBAMFCQAAAAAAAAECAwQABREGEgchMUEQE1FxIzJhFCAigaEkMENSYnORsbL/2gAIAQEAAT8A/eTp8aBEdlSF7W2xkn/QFXriPcH3HExlllvshPzfmaY13dobu5qepPqCdwNaZ4msznUMT0NpJwA810yf5k/f4s3dDEOFCC8KUovL9hyFIdm3WZ9mhgD1UegFRNFQXE4euRW73DbiautkXYyJUO5Jd8oBa2s/FQM/MMVpe5quunrXOUQVPR0lR9VDkfvcb25qrnaW2W8+ewUJP1SasVuet1sC2GQ6+vkSe1RLROnX6O624UNJKC6Rke4qXo2UxdX2ypZZfcKvPIBBZUMFs9wa0fZzZNM2m3KcC1MMAKUOhKiVeOazWa1LZGL1bVMLbSpxCgtonsodsnsakOXiwXh+NObLe7C8HBGFHqCKmasb+xurYkojObCGso3FSu5AqxaucDq0Trm+4XEpShK8FvJ9qgn9iif2G/8AkVnwzWazWa4vWVcuwi6R0ZfhfP8AVldIuKFv71gZCAlKlDcE889KTdhsIW+F5UMI8tKR16jFQZMeTDjPx3EOMuNJLa0HKSMdq3Vms1nw51xafksaOkOMTksEPIyg/wAcd26ccUtRJAHtSeorSOvNQ6cfZTHlLciJXlcRZ+GoVY+MmnZ6g3NYehLPc/ERUK526e0HIcxh9J7oWFeG2sVd71bLLDVKnyUMtjpnqo+iR3NcR9cPaqmseW2WokbcGW+53dVqojn0oJ6ZpKsdKRILfTmfWmZslpYcQ6pKwchQPMVwo17NvK3bTcnvNfbb3sOn5lpHVKvDiLxERphCIcNKVz3UZ59GkHuau1/ud3kqfnTHX3PVZzj6CiaV1A8CcAn0oHn+VJVXCt5aNcWbb3cWD7FB8NbXc3PU13lbypCpSw2f6EnaK3/qa71nK/BR/CaTkmh+grhQnOubR7un/DZr/8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAEQMEEDEhQRMgcf/aAAgBAgEBPwCbO3jwUDZY+hMO/jyEBlKEn6Z0HzO7Vd+IgtqJBFRRSj85za6vZ9zHrhDK5PUqKZ4PU6swknle5//EACARAAICAgEFAQAAAAAAAAAAAAECABEDBAUQICExQWH/2gAIAQMBAT8AnH8Vs71lKVB7Y+pt8Ds4AWTIuVQPNe+zU2GGpgwYiQtEu36fkZnVbUENMpByuQPp6XNXcfFSfLmTfLi7A8QmyZfQWDLldtQz/9k=",alt:"",className:"rounded-full w-12 h-12"})})]})]})},x=function(e){var t=e.children;return Object(j.jsxs)("div",{className:"bg-dark-400 dark:bg-light h-full min-h-screen flex flex-col md:flex-row transition-all duration-300",children:[Object(j.jsx)(u,{}),Object(j.jsx)("main",{className:"md:w-full flex justify-center mt-10 overflow-hidden",children:t})]})},m=n(43),h=function(){return Object(m.b)()},O=m.c,f=function(e){var t=Object(s.useRef)(null),n=Object(s.useCallback)((function(t){"Escape"===t.key&&e(!1)}),[t.current]),c=Object(s.useCallback)((function(n){null!==t.current&&(t.current.contains(n.target)||null===e||void 0===e||e(!1))}),[t.current]);return Object(s.useEffect)((function(){return document.addEventListener("click",c),document.addEventListener("keyup",n),function(){document.removeEventListener("click",c),document.removeEventListener("keyup",n)}})),t},p=n(8),E=n(19),I=n(5),N=I.c().shape({userInfo:I.c({street:I.d().required("required"),city:I.d().required("required"),country:I.d().required("required"),postCode:I.d().required("required")}),clientInfo:I.c({name:I.d().required("required"),email:I.d().email("enter valid email").required("required"),street:I.d().required("required"),city:I.d().required("required"),country:I.d().required("required"),postCode:I.d().required("required")}),paymentTerms:I.d().required("required"),desc:I.d(),status:I.d(),itemsList:I.a().of(I.c({name:I.d().required("required"),price:I.b().positive("price must be positive"),qty:I.b().positive("qty must be positive")}))}),A={userInfo:{street:"",city:"",country:"",postCode:""},clientInfo:{name:"",email:"",street:"",country:"",postCode:"",city:""},createdAt:new Date,paymentTerms:"next week",desc:"123desc",status:"pending",itemsList:[{name:"21",price:5,qty:1},{name:"item",price:5,qty:2}]},g=n(212),y=function(){var e=h();return Object(j.jsx)("button",{className:"flex items-center my-6 ",type:"button",onClick:function(){return e({type:"CLOSE_FORM"})},children:Object(j.jsxs)(g.a.div,{whileHover:{opacity:[1,.1,1]},transition:{ease:"linear",duration:1.5,repeat:1/0},className:"flex",children:[Object(j.jsx)(b.b,{className:"text-blue-300 w-6 h-6"}),Object(j.jsx)("p",{className:"text-white text-sm dark:text-dark-400",children:"Go Back"})]})})},v=n(24),w=n(29),C=n.n(w),k=n(56),_=n(30);!function(e){e.INVOICE_LIST_REQUEST="INVOICE_LIST_REQUEST",e.INVOICE_LIST_SUCCESS="INVOICE_LIST_SUCCESS",e.INVOICE_LIST_FAILURE="INVOICE_LIST_FAILURE",e.INVOICE_CREATE_REQUEST="INVOICE_CREATE_REQUEST",e.INVOICE_CREATE_SUCCESS="INVOICE_CREATE_SUCCESS",e.INVOICE_CREATE_FAILURE="INVOICE_CREATE_FAILURE",e.INVOICE_DELETE_REQUEST="INVOICE_DELETE_REQUEST",e.INVOICE_DELETE_SUCCESS="INVOICE_DELETE_SUCCESS",e.INVOICE_DELETE_FAILURE="INVOICE_DELETE_FAILURE",e.INVOICE_EDIT_REQUEST="INVOICE_EDIT_REQUEST",e.INVOICE_EDIT_SUCCESS="INVOICE_EDIT_SUCCESS",e.INVOICE_EDIT_FAILURE="INVOICE_EDIT_FAILURE",e.INVOICE_PAY_SUCCESS="INVOICE_PAY_SUCCESS",e.INVOICE_PAY_REQUEST="INVOICE_PAY_REQUEST",e.INVOICE_PAY_FAILURE="INVOICE_PAY_FAILURE"}(c||(c={}));var S=function(e){return console.log(e),Object(_.createAction)({endpoint:"https://invoicemernapp.herokuapp.com/invoices",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),types:[c.INVOICE_CREATE_REQUEST,{type:c.INVOICE_CREATE_SUCCESS,payload:function(){var e=Object(k.a)(C.a.mark((function e(t,n,c){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.json();case 2:return s=e.sent,console.log(s),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),meta:{actionType:c.INVOICE_CREATE_SUCCESS}},c.INVOICE_CREATE_FAILURE]})},T=function(e){e.isEdit;var t=Object(E.e)().values,n=h(),c=Object(l.f)();return Object(j.jsxs)("div",{className:"bg-dark-500 h-36 mb-20 md:mb-0 md:h-24 w-full flex border-dark-300 justify-end px-8 pt-2 bg-dark-400 dark:bg-white",children:[Object(j.jsx)("button",{className:"btn rounded-3xl bg-dark-200 dark:bg-blue-100 px-4 m-2 text-gray text-sm font-bold filter hover:brightness-125",type:"reset",children:"Discard"}),Object(j.jsx)("button",{className:"btn rounded-3xl bg-dark-300 px-4 m-2 text-gray text-sm hover:ring-1 ring-blue-300",onClick:function(){n({type:"CLOSE_FORM"}),n(S(Object(v.a)(Object(v.a)({},t),{},{status:"draft"}))).then((function(){return c("/")}))},type:"button",children:"Save as Draft"}),Object(j.jsx)("button",{className:"btn rounded-3xl bg-blue-300 px-4 m-2 text-white text-sm  font-bold filter hover:brightness-110",type:"submit",children:"Save & Send"})]})},R=n(55),L=["label"],V=function(e){var t=e.label,n=Object(R.a)(e,L),c=Object(E.d)(n),s=Object(p.a)(c,2),r=s[0],a=s[1];return Object(j.jsxs)("div",{className:"py-1 w-full mx-1",children:[Object(j.jsxs)("div",{className:"flex justify-between",children:[Object(j.jsx)("label",{htmlFor:r.name,className:"text-gray text-sm",children:t}),a.touched&&a.error?Object(j.jsx)("p",{className:"text-red-500 dark:text-red-500 font-light text-xs",children:a.error}):null]}),Object(j.jsx)("input",Object(v.a)(Object(v.a)({className:"bg-dark-300 dark:bg-white dark:border dark:text-dark-900 w-full p-3 rounded-xl text-white text-sm font-bold focus:ring-2 ring-blue-300 outline-none hover:ring-2 ".concat(a.touched&&a.error?"ring-red-500 ring-2":"ring-blue-300"),type:n.type||"text"},n),r))]})},F=function(e){var t=e.label,n=e.name,c=e.options;return Object(j.jsxs)("div",{className:"w-full",children:[Object(j.jsx)("label",{htmlFor:n,className:"text-gray text-sm",children:t}),Object(j.jsx)("select",{className:"bg-dark-300 dark:bg-white w-full p-3 rounded-xl text-white dark:text-dark-900 text-sm font-bold h-10",children:c.map((function(e){return Object(j.jsx)("option",{value:e,label:e},e)}))})]})},U=n(213),D=["form"],P=function(e){e.values;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(E.a,{name:"itemsList",children:function(e){var t=e.form.values,n=Object(R.a)(e,D);return Object(j.jsxs)("div",{children:[Object(j.jsx)(U.a,{children:t.itemsList&&t.itemsList.length>0?t.itemsList.map((function(e,c){return Object(j.jsxs)(g.a.div,{className:"flex flex-row gap-3 flex-wrap items-center justify-between",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Object(j.jsx)("div",{className:"w-full md:w-1/3",children:Object(j.jsx)(V,{label:"Item Name",name:"itemsList[".concat(c,"].name")})}),Object(j.jsxs)("div",{className:"flex flex-row gap-3 w-full md:w-1/2 items-center",children:[Object(j.jsx)(V,{label:"Qty",name:"itemsList[".concat(c,"].qty"),type:"number"}),Object(j.jsx)(V,{label:"Price",name:"itemsList[".concat(c,"].price"),type:"number"}),Object(j.jsxs)("div",{className:"w-1/3 py-1",children:[Object(j.jsx)("label",{className:"text-gray text-sm mt-2 text-center",children:"Total"}),Object(j.jsx)("div",{className:"py-2",children:Object(j.jsx)("p",{className:"text-white font-bold dark:text-dark-400",children:e.qty*e.price})})]}),t.itemsList.length>1&&Object(j.jsx)(b.h,{className:"text-white dark:text-dark-900 mt-6 mx-4 cursor-pointer dark:hover:text-red-500 hover:text-red-500 text-3xl",onClick:function(){setTimeout((function(){return n.remove(c)}),100)}})]})]},c)})):Object(j.jsxs)("div",{className:"flex flex-row gap-3 flex-wrap items-center justify-between",children:[Object(j.jsx)("div",{className:"w-full md:w-1/3",children:Object(j.jsx)(V,{label:"Item Name",name:"itemName"})}),Object(j.jsxs)("div",{className:"flex flex-row gap-3 w-full md:w-1/2",children:[Object(j.jsx)(V,{label:"Qty",name:"qty",type:"number"}),Object(j.jsx)(V,{label:"Price",name:"price",type:"number"}),Object(j.jsxs)("div",{className:"w-1/2 py-1",children:[Object(j.jsx)("label",{className:"text-gray text-sm mt-2 text-center",children:"Total"}),Object(j.jsx)("div",{className:"py-2",children:Object(j.jsx)("p",{className:"text-white font-bold bg:text-black",children:"5.60"})})]})]})]})}),Object(j.jsx)("button",{className:"rounded-full text-gray bg-dark-300 dark:bg-blue-100 my-8 px-6 py-3 hover:bg-blue-300 hover:text-white w-full",type:"button",onClick:function(){return n.push({name:"",qty:"0",price:"0.00"})},children:"+ Add new item"})]})}})})},Q=function(e){var t=e.isEdit;return Object(j.jsxs)(E.b,{className:"mt-20 md:mt-0 top-0 md:max-w-3xl md:pt-0  md:pl-24  md:rounded-r-xl z-50 h-screen flex flex-col",children:[Object(j.jsxs)("div",{className:"p-4 flex flex-col overflow-scroll bg-dark-400 dark:bg-light",children:[Object(j.jsx)("div",{children:Object(j.jsx)(y,{})}),t?Object(j.jsx)("h1",{className:"text-white text-3xl font-bold pb-6 dark:text-dark-900",children:"Edit Invoice"}):Object(j.jsx)("h1",{className:"text-white text-3xl font-bold pb-6 dark:text-dark-900",children:"New Invoice"}),Object(j.jsxs)("div",{className:"my-4",children:[Object(j.jsx)("p",{className:"text-blue-300 text-md my-4",children:"Bill From"}),Object(j.jsx)(V,{label:"Street Address",name:"userInfo.street"}),Object(j.jsxs)("div",{className:"flex flex-row my-3",children:[Object(j.jsx)(V,{label:"City",name:"userInfo.city"}),Object(j.jsx)(V,{label:"Post Code",name:"userInfo.postCode"}),Object(j.jsx)(V,{label:"Country",name:"userInfo.country"})]})]}),Object(j.jsxs)("div",{className:"my-4",children:[Object(j.jsx)("p",{className:"text-blue-300 text-md my-2",children:"Bill To"}),Object(j.jsx)(V,{label:"Client's name",name:"clientInfo.name"}),Object(j.jsx)(V,{label:"Client's Email",name:"clientInfo.email"}),Object(j.jsx)(V,{label:"Street Address",name:"clientInfo.street"}),Object(j.jsxs)("div",{className:"flex flex-row mt-3",children:[Object(j.jsx)(V,{label:"City",name:"clientInfo.city"}),Object(j.jsx)(V,{label:"Post Code",name:"clientInfo.postCode"}),Object(j.jsx)(V,{label:"Country",name:"clientInfo.country"})]}),Object(j.jsxs)("div",{className:"flex flex-row mt-3 w-full",children:[Object(j.jsx)(V,{label:"Invoice Date",name:"invoiceDate",type:"date"}),Object(j.jsx)(F,{label:"Payment Terms",options:["next day","next week","next 2 weeks","next month"],name:"paymentTerms"})]}),Object(j.jsx)(V,{label:"Project Description",name:"desc"})]}),Object(j.jsx)("p",{className:"text-blue-300 text-md my-4",children:"Items List"}),Object(j.jsx)(P,{})]}),Object(j.jsx)(T,{isEdit:t})]})},q={duration:.8,type:"spring",bounce:.1},M={hidden:{x:"-100%"},show:{x:0,transition:q},exit:{x:"-100%",transition:q}},B=function(){var e=h(),t=O((function(e){return e.form.isOpen})),n=O((function(e){return e.form.isEdit})),r=Object(l.g)().id,a=O((function(e){return e.invoices.find((function(e){return e.id===Number(r)}))})),i=Object(s.useState)(!1),d=Object(p.a)(i,2),o=d[0],b=d[1],u=f(b);return Object(s.useEffect)((function(){b(!!t)}),[t]),Object(s.useEffect)((function(){!o&&t&&e({type:"CLOSE_FORM"})}),[o]),Object(j.jsx)(U.a,{exitBeforeEnter:!0,children:o?Object(j.jsx)(g.a.div,{className:"fixed inset-0 bg-dark-400 z-40 bg-opacity-40",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},exit:{opacity:0},children:Object(j.jsx)(E.c,{onSubmit:function(t){var s;n?e((s=t,console.log(s),Object(_.createAction)({endpoint:"https://invoicemernapp.herokuapp.com/invoices/".concat(s.id),method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),types:[c.INVOICE_EDIT_REQUEST,{type:c.INVOICE_EDIT_SUCCESS,payload:function(){var e=Object(k.a)(C.a.mark((function e(t,n,c){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.json();case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),meta:{actionType:c.INVOICE_EDIT_SUCCESS}},c.INVOICE_EDIT_FAILURE]}))).then((function(){return e({type:"CLOSE_FORM_EDIT"})})):e(S(t)).then((function(){return e({type:"CLOSE_FORM"})}))},initialValues:n?a:A,validationSchema:N,enableReinitialize:!0,children:Object(j.jsx)(g.a.div,{className:"top-0 md:max-w-3xl md:pt-0  md:rounded-r-xl z-50 h-screen flex flex-col",initial:"hidden",animate:"show",exit:"exit",variants:M,ref:u,children:Object(j.jsx)(Q,{isEdit:n})},"form")})}):null})},K=function(){var e=h();return Object(j.jsxs)("div",{className:"bg-blue-500 rounded-3xl text-white font-bold flex flex-row items-center transform hover:scale-105 hover:bg-blue hover:bg-opacity-80 cursor-pointer",onClick:function(){return e({type:"OPEN_FORM"})},children:[Object(j.jsx)("span",{className:"rounded-full m-1 p-1 md:m-2 md:p-2 bg-white border border-blue-600",children:Object(j.jsx)(b.g,{className:"text-blue-500 "})}),Object(j.jsxs)("span",{className:"p-1 mr-2",children:["New ",Object(j.jsx)("span",{className:"hidden md:inline",children:"Invoice"})]})]})},Y=function(){var e=Object(s.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)("all"),a=Object(p.a)(r,2),i=a[0],l=a[1],d=h(),o=f(c);return Object(s.useEffect)((function(){switch(i){case"all":d({type:"FILTER_ALL"});break;case"paid":d({type:"FILTER_PAID"});break;case"pending":d({type:"FILTER_PENDING"});break;case"draft":d({type:"FILTER_DRAFT"})}}),[i,d]),Object(j.jsxs)("div",{className:"relative",ref:o,onClick:function(){return c(!n)},children:[Object(j.jsxs)("button",{className:"filter text-white dark:text-primary flex items-center relative",children:[Object(j.jsxs)("h3",{className:"font-medium mr-2 text-md",children:["Filter ",Object(j.jsx)("span",{className:"hidden md:inline",children:"by status"})]}),n?Object(j.jsx)(b.c,{className:"text-blue-300"}):Object(j.jsx)(b.a,{className:"text-blue-300"})]}),n&&Object(j.jsxs)("div",{className:"bg-dark-300 dark:bg-white shadow-md absolute right-0 mt-5 p-5 rounded-lg w-44 z-50",children:[Object(j.jsxs)("button",{className:"w-full flex flex-row items-center group",onClick:function(){return l("all"===i?"":"all")},children:[Object(j.jsx)("span",{className:"flex justify-center items-center w-4 h-4 mr-4 ring-blue-500 group-hover:ring-1 transition-all duration-300 rounded-sm ".concat("all"===i?"bg-blue-500":" bg-dark-400 dark:bg-blue-100"),children:"all"===i&&Object(j.jsx)("span",{className:"text-sm font-bold text-white dark:text-white",children:Object(j.jsx)(b.d,{})})}),Object(j.jsx)("span",{className:"text-white capitalize font-bold dark:text-dark-900",children:"All"})]}),Object(j.jsxs)("button",{className:"w-full flex flex-row items-center group",onClick:function(){return l("paid"===i?"":"paid")},children:[Object(j.jsx)("span",{className:"flex justify-center items-center w-4 h-4 mr-4 ring-blue-500 group-hover:ring-1 transition-all duration-300 rounded-sm ".concat("paid"===i?"bg-blue-500":" bg-dark-400 dark:bg-blue-100"),children:"paid"===i&&Object(j.jsx)("span",{className:"text-sm font-bold text-white",children:Object(j.jsx)(b.d,{})})}),Object(j.jsx)("span",{className:"text-white capitalize font-bold dark:text-dark-900",children:"Paid"})]}),Object(j.jsxs)("button",{className:"w-full flex flex-row items-center group",onClick:function(){return l("draft"===i?"":"draft")},children:[Object(j.jsx)("span",{className:"flex justify-center items-center w-4 h-4 mr-4 ring-blue-500 group-hover:ring-1 transition-all duration-300 rounded-sm ".concat("draft"===i?"bg-blue-500":" bg-dark-400 dark:bg-blue-100"),children:"draft"===i&&Object(j.jsx)("span",{className:"text-sm font-bold text-white",children:Object(j.jsx)(b.d,{})})}),Object(j.jsx)("span",{className:"text-white capitalize font-bold dark:text-dark-900",children:"Draft"})]}),Object(j.jsxs)("button",{className:"w-full flex flex-row items-center group",onClick:function(){return l("pending"===i?"":"pending")},children:[Object(j.jsx)("span",{className:"flex justify-center items-center w-4 h-4 mr-4 ring-blue-500 group-hover:ring-1 transition-all duration-300 rounded-sm ".concat("pending"===i?"bg-blue-500":" bg-dark-400 dark:bg-blue-100"),children:"pending"===i&&Object(j.jsx)("span",{className:"text-sm font-bold text-white",children:Object(j.jsx)(b.d,{})})}),Object(j.jsx)("span",{className:"text-white capitalize font-bold dark:text-dark-900",children:"Pending"})]})]})]})},G=function(e){var t=e.len;return Object(j.jsxs)(g.a.div,{className:"w-full flex justify-between items-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.25},exit:{x:100,opacity:0},children:[Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("h1",{className:"text-white dark:text-primary text-2xl md:text-4xl font-medium",children:"Invoices"}),Object(j.jsx)("h2",{className:"text-gray font-medium",children:1===t?"There is 1 invoice":t>0?"There are "+t+" invoices":"There is no invoices"})]}),Object(j.jsx)(Y,{}),Object(j.jsx)(K,{})]})},W=function(e){switch(e.status){case"paid":return Object(j.jsxs)("div",{className:"w-36 py-2 text-green bg-green bg-opacity-10 font-bold rounded-md flex justify-center items-center col-end-4 row-start-3 row-end-4 md:col-start-5 md:col-end-6",children:[Object(j.jsx)("span",{className:"rounded-full bg-green w-2 h-2 m-1"})," Paid"]});case"pending":return Object(j.jsxs)("div",{className:"w-36 py-2 text-orange bg-orange bg-opacity-10 font-bold rounded-md flex justify-center items-center col-end-4 row-start-3 row-end-4 md:col-start-5 md:col-end-6",children:[Object(j.jsx)("span",{className:"rounded-full bg-orange w-2 h-2 m-1"})," Pending"]});default:return Object(j.jsxs)("div",{className:"w-36 py-2 text-gray bg-gray bg-opacity-10 font-bold rounded-md flex items-center justify-center col-end-4 row-start-3 row-end-4 md:col-start-5 md:col-end-6",children:[Object(j.jsx)("span",{className:"rounded-full bg-gray w-2 h-2 m-1 "})," Draft"]})}},Z=function(e){var t=e.invoice,n=e.index;return Object(j.jsx)(d.b,{to:"invoice/".concat(t.id),children:Object(j.jsx)(g.a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{delay:.08*n,easings:["easeInOut"]}},exit:{opacity:0,y:15,transition:{duration:.4,delay:.1*n,easings:["easeOut"]}},className:"w-full px-6 py-4 md:py-8 my-5 bg-dark-300 dark:bg-lightBlue rounded-2xl hover:ring-1 ring-blue-300 cursor-pointer shadow-md transition-all duration-300",children:Object(j.jsxs)("div",{className:"grid grid-cols-2 grid-rows-3 md:flex md:items-center md:justify-between",children:[Object(j.jsxs)("h1",{className:"text-white dark:text-primary font-bold pb-4 md:pb-0 w-1/6",children:[Object(j.jsx)("span",{className:"text-gray",children:"#"}),t.id]}),Object(j.jsx)("h1",{className:"text-gray text-sm md:text-md col-span-3 md:col-start-2 md:col-span-2 w-1/6",children:"Due 25/11/2012"}),Object(j.jsx)("h1",{className:"text-gray col-start-3 col-end-4 row-start-1 row-end-2 w-1/6",children:t.clientInfo&&t.clientInfo.name}),Object(j.jsxs)("h1",{className:"text-white dark:text-primary font-bold text-md md:text-xl pt-1 md:p-0 w-1/6",children:["$",t.itemsList&&t.itemsList.map((function(e){return e.price*e.qty})).reduce((function(e,t){return e+t}),0),".00"]}),Object(j.jsx)(W,{status:t.status}),Object(j.jsx)("button",{className:"text-blue-300 hidden md:inline md:col-start-6 w-1/24",children:Object(j.jsx)(b.e,{})})]})})})},z=function(){var e=h(),t=O((function(e){return e.filterMethod})),n=O((function(e){return e.invoices})).filter((function(e){return"all"===t?e:e.status===t})),r=O((function(e){return e.form.isOpen}));return Object(s.useEffect)((function(){e(Object(_.createAction)({endpoint:"https://invoicemernapp.herokuapp.com/invoices",method:"GET",headers:{"Content-Type":"application/json"},types:[c.INVOICE_LIST_REQUEST,{type:c.INVOICE_LIST_SUCCESS,payload:function(){var e=Object(k.a)(C.a.mark((function e(t,n,c){var s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.json();case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),meta:{actionType:c.INVOICE_LIST_SUCCESS}},c.INVOICE_LIST_FAILURE]}))}),[]),Object(j.jsxs)("div",{className:"container px-4 md:px-12 xl:px-64",children:[Object(j.jsx)(B,{}),Object(j.jsxs)("div",{className:"".concat(r?"hidden md:block":"block"),children:[Object(j.jsx)(G,{len:n.length}),Object(j.jsx)("div",{className:"w-full",children:n.map((function(e,t){return Object(j.jsx)(Z,{invoice:e,index:t},e.id)}))})]})]})},H=function(e){var t=e.invoice,n=h(),s=(Object(l.g)(),Object(l.f)());return Object(j.jsxs)("div",{children:[Object(j.jsx)(d.b,{to:"/",className:"flex items-center my-6",children:Object(j.jsx)(y,{})}),Object(j.jsxs)("div",{className:"flex items-center md:space-x-4 bg-dark-300 dark:bg-white shadow-md py-4 px-6 rounded-xl w-full justify-between mb-4",children:[Object(j.jsx)("p",{className:"text-gray",children:"Status"}),Object(j.jsx)(W,{status:t.status}),Object(j.jsx)("div",{className:"fixed bottom-0 right-0 bg-dark-300 dark:bg-white w-full p-4 md:static",children:Object(j.jsxs)("div",{className:"float-right",children:["draft"===t.status?Object(j.jsx)("button",{className:"rounded-3xl px-4 py-2 bg-dark-200 text-gray mx-2 hover:ring-2 hover:text-white ring-blue-300 text-sm",onClick:function(){n({type:"OPEN_FORM_EDIT",payload:null})},children:"Edit"}):null,Object(j.jsx)("button",{className:"rounded-3xl px-4 py-2 bg-red-500 text-white font-bold z-50 filter hover:brightness-150 text-sm",onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&(s("/"),n(function(e){return Object(_.createAction)({endpoint:"https://invoicemernapp.herokuapp.com/nvoices/".concat(e),method:"DELETE",headers:{"Content-Type":"application/json"},types:[c.INVOICE_DELETE_REQUEST,c.INVOICE_DELETE_SUCCESS,c.INVOICE_DELETE_FAILURE]})}(t.id)))},children:"Delete"}),"pending"===t.status?Object(j.jsx)("button",{className:"rounded-3xl px-4 py-2 bg-blue-300 mx-2 text-white filter hover:brightness-110 text-sm",onClick:function(){n(function(e){return Object(_.createAction)({endpoint:"https://invoicemernapp.herokuapp.com/invoices/pay/".concat(e),method:"PUT",headers:{"Content-Type":"application/json"},types:[c.INVOICE_PAY_REQUEST,c.INVOICE_PAY_SUCCESS,c.INVOICE_PAY_FAILURE]})}(t.id))},children:"Mark as paid"}):null]})})]})]})},J=function(e){var t=e.items;return Object(j.jsxs)("div",{className:"bg-dark-300  filter brightness-125 dark:brightness-150 rounded-xl",children:[Object(j.jsxs)("div",{className:"flex justify-between items-center py-4 px-6 md:hidden",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Item"}),Object(j.jsx)("h2",{className:"text-blue-300",children:"1 x 32"})]}),Object(j.jsx)("h1",{className:"text-white font-bold",children:"$222.00"})]}),Object(j.jsxs)("div",{className:"hidden justify-between items-center py-4 px-6 md:block",children:[Object(j.jsxs)("div",{className:"grid grid-cols-5 filter brightness-125 w-full text-right mb-4",children:[Object(j.jsx)("p",{className:"text-gray col-start-1 col-end-3 text-left",children:"Item Name"}),Object(j.jsx)("p",{className:"text-gray",children:"QTY."}),Object(j.jsx)("p",{className:"text-gray",children:"Price"}),Object(j.jsx)("p",{className:"text-gray",children:"Total"})]}),t.map((function(e){return Object(j.jsxs)("div",{className:"grid grid-cols-5 filter brightness-125 w-full text-right text-sm",children:[Object(j.jsx)("p",{className:"text-white col-start-1 col-end-3 text-left",children:e.name}),Object(j.jsx)("p",{className:"text-white",children:e.price}),Object(j.jsx)("p",{className:"text-white",children:e.qty}),Object(j.jsx)("p",{className:"text-white",children:e.price*e.qty})]},e.price-9)}))]}),Object(j.jsxs)("div",{className:"bg-dark-900 dark:bg-dark-200 w-full h-16 rounded-b-xl flex justify-between items-center ",children:[Object(j.jsx)("h1",{className:"px-4",children:"Grand total"}),Object(j.jsxs)("h1",{className:"text-2xl px-4",children:["$",t.map((function(e){return e.price*e.qty})).reduce((function(e,t){return e+t}),0)]})]})]})},X=function(e){var t=e.invoice;return Object(j.jsxs)("div",{className:"bg-dark-300 dark:bg-white shadow-md p-6 md:p-12 rounded-xl text-white mb-20 ",children:[Object(j.jsxs)("div",{className:"block md:flex justify-between",children:[Object(j.jsxs)("div",{className:"title pb-6",children:[Object(j.jsxs)("h1",{className:"font-bold dark:text-dark-900",children:[Object(j.jsx)("span",{className:"text-blue-300",children:"#"})," ",t.id]}),Object(j.jsx)("h2",{className:"text-gray",children:t.clientInfo&&t.clientInfo.name})]}),Object(j.jsxs)("div",{className:"details text-gray text-sm pb-6 md:text-right",children:[Object(j.jsx)("h2",{children:t.clientInfo&&t.clientInfo.name.split(" ")[0]}),Object(j.jsx)("h2",{children:t.clientInfo&&t.clientInfo.name.split(" ")[1]}),Object(j.jsx)("h2",{children:t.clientInfo&&t.clientInfo.postCode}),Object(j.jsx)("h2",{children:t.clientInfo&&t.clientInfo.country})]})]}),Object(j.jsxs)("div",{className:"flex justify-between pb-6",children:[Object(j.jsxs)("div",{className:"w-1/2",children:[Object(j.jsx)("h2",{className:"text-gray",children:"Invoice Date"}),Object(j.jsx)("h1",{className:"font-bold dark:text-dark-900",children:"25/11/2012"})]}),Object(j.jsxs)("div",{className:"w-1/2",children:[Object(j.jsx)("h2",{className:"text-gray",children:"Bill To"}),Object(j.jsx)("h1",{className:"font-bold dark:text-dark-900",children:t.clientInfo&&t.clientInfo.country})]})]}),Object(j.jsx)("div",{className:"flex justify-between pb-6",children:Object(j.jsxs)("div",{className:"w-1/2",children:[Object(j.jsx)("h2",{className:"text-gray",children:"Payment Due"}),Object(j.jsx)("h1",{className:"font-bold dark:text-dark-900",children:"Tue 26 Oct"})]})}),Object(j.jsx)("h2",{className:"text-gray",children:"Sent to"}),Object(j.jsx)("h1",{className:"font-bold pb-6 dark:text-dark-900",children:t.clientInfo&&t.clientInfo.email}),Object(j.jsx)(J,{items:t.itemsList})]})},$=function(){var e=Object(l.g)().id,t=O((function(t){return t.invoices.find((function(t){return t.id.toString()===e}))}));return Object(j.jsxs)(g.a.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0,transition:{easings:["easeIn"]}},exit:{opacity:0,x:15,transition:{duration:.5,easings:["easeOut"]}},className:"container px-4 md:px-12 xl:px-64 w-full flex flex-col-reverse",children:[Object(j.jsx)(B,{}),Object(j.jsx)(X,{invoice:t}),Object(j.jsx)(H,{invoice:t})]})};var ee,te=function(){var e=Object(l.e)();return Object(j.jsx)(x,{children:Object(j.jsx)(U.a,{exitBeforeEnter:!0,children:Object(j.jsxs)(l.c,{location:e,children:[Object(j.jsx)(l.a,{path:"/invoice/:id",element:Object(j.jsx)($,{})}),Object(j.jsx)(l.a,{path:"/",element:Object(j.jsx)(z,{})}),Object(j.jsx)(l.a,{path:"*",element:Object(j.jsx)("h1",{children:"123"})})]},e.pathname)})})},ne=n(96),ce=n.n(ne);!function(e){e.FILTER_ALL="FILTER_ALL",e.FILTER_PAID="FILTER_PAID",e.FILTER_PENDING="FILTER_PENDING",e.FILTER_DRAFT="FILTER_DRAFT"}(ee||(ee={}));var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.FILTER_ALL:return"all";case ee.FILTER_PAID:return"paid";case ee.FILTER_DRAFT:return"draft";case ee.FILTER_PENDING:return"pending";default:return e}},re=n(10),ae=[];var ie,le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.INVOICE_LIST_REQUEST:return e;case c.INVOICE_LIST_SUCCESS:return t.payload;case c.INVOICE_LIST_FAILURE:case c.INVOICE_CREATE_REQUEST:case c.INVOICE_CREATE_FAILURE:return e;case c.INVOICE_CREATE_SUCCESS:return console.log(t.payload),[].concat(Object(re.a)(e),[t.payload[0]]);case c.INVOICE_DELETE_REQUEST:case c.INVOICE_DELETE_FAILURE:return e;case c.INVOICE_DELETE_SUCCESS:return e.filter((function(e){return e.id!==parseInt(t.payload.id)}));case c.INVOICE_PAY_SUCCESS:return e.map((function(e){return e.id===parseInt(t.payload.id)?Object(v.a)(Object(v.a)({},e),{},{status:"paid"}):e}));case c.INVOICE_EDIT_SUCCESS:return e.map((function(e){return e.id===parseInt(t.payload.id)?t.payload:e}));default:return e}};!function(e){e.OPEN_FORM="OPEN_FORM",e.CLOSE_FORM="CLOSE_FORM",e.CLOSE_FORM_EDIT="CLOSE_FORM_EDIT",e.OPEN_FORM_EDIT="OPEN_FORM_EDIT"}(ie||(ie={}));var de={isOpen:!1,isEdit:!1};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.OPEN_FORM:return{isOpen:!0,isEdit:!1};case ie.CLOSE_FORM:return{isOpen:!1,isEdit:!1};case ie.OPEN_FORM_EDIT:return{isOpen:!0,isEdit:!0};case ie.CLOSE_FORM_EDIT:return{isOpen:!1,isEdit:!1};default:return e}},be=n(97),je=n(44),ue=je.c,xe=Object(je.b)({invoices:le,filterMethod:se,form:oe}),me=Object(je.d)(xe,ue(Object(je.a)(be.a,Object(_.createMiddleware)(),ce.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(m.a,{store:me,children:Object(j.jsx)(d.a,{children:Object(j.jsx)(te,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.13477677.chunk.js.map